<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Loading Images From Cloud Storage on Android using Coil</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Loading Images From Cloud Storage on Android using Coil</h1>
</header>
<section data-field="subtitle" class="p-summary">
Coroutines and extension functions for the rescue
</section>
<section data-field="body" class="e-content">
<section name="4add" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e8f3" id="e8f3" class="graf graf--h3 graf--leading graf--title">Loading Images From Cloud Storage on Android using Coil</h3><h4 name="daf4" id="daf4" class="graf graf--h4 graf-after--h3 graf--subtitle">Coroutines and extension functions for the rescue</h4><figure name="3be2" id="3be2" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="1*k3_xSqvv0mj16W9oB9KfZw.jpeg" data-width="1920" data-height="1213" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*k3_xSqvv0mj16W9oB9KfZw.jpeg"><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/@invictar1997?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/@invictar1997?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Soragrit Wongsa</a> on <a href="https://unsplash.com/s/photos/polaroid?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/s/photos/polaroid?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Unsplash</a></figcaption></figure><p name="f8ae" id="f8ae" class="graf graf--p graf-after--figure">If you’re developing an Android app and you’re storing images in cloud storage for Firebase to later display in your app, you’re probably using an image loading library such as <a href="https://github.com/bumptech/glide" data-href="https://github.com/bumptech/glide" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Glide</a>, <a href="https://github.com/square/picasso" data-href="https://github.com/square/picasso" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Picasso</a>, <a href="https://github.com/facebook/fresco" data-href="https://github.com/facebook/fresco" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Fresco</a>, or <a href="https://github.com/firebase/FirebaseUI-Android/blob/master/storage/README.md" data-href="https://github.com/firebase/FirebaseUI-Android/blob/master/storage/README.md" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">firebase-ui-storage</a>. Yes, these libraries can do the job, but what if I told you there’s a more pleasant and efficient way?</p><p name="a89f" id="a89f" class="graf graf--p graf-after--p graf--trailing">In this article, I’ll introduce you to the new kid in town, <a href="https://coil-kt.github.io/coil/" data-href="https://coil-kt.github.io/coil/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Coil</strong></a><strong class="markup--strong markup--p-strong">,</strong> and I’ll show you how to use it to load your cloud storage images with less boilerplate code.<br>I’ll assume you’re already familiar with cloud storage for Firebase and already know how to use it in an Android app. If not, you may want to take a look at the <a href="https://firebase.google.com/docs/storage" data-href="https://firebase.google.com/docs/storage" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Documentation</a>.</p></div></div></section><section name="43ce" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="577e" id="577e" class="graf graf--h3 graf--leading">Coil (Coroutines Image Loader)</h3><p name="2194" id="2194" class="graf graf--p graf-after--h3">Coil is an open-source Image Loading Library for Android. Unlike the other pre-existing libraries (Glide, Picasso, etc), Coil was built entirely in Kotlin and is backed by Coroutines. It’s also:</p><ul class="postList"><li name="a353" id="a353" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Easy to use:</strong> Because it leverages some Kotlin language features, such as Kotlin Extension Functions, which allows you to keep your code simple and concise.</li><li name="204a" id="204a" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Lightweight: </strong>It adds ~2000 methods to your APK, which is almost the same as Picasso and a little less than Glide.</li><li name="90ac" id="90ac" class="graf graf--li graf-after--li graf--trailing"><strong class="markup--strong markup--li-strong">Fast:</strong> Its speed compares fairly to Picasso and Glide, as shown in <a href="https://proandroiddev.com/coil-vs-picasso-vs-glide-get-ready-go-774add8cfd40" data-href="https://proandroiddev.com/coil-vs-picasso-vs-glide-get-ready-go-774add8cfd40" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">this benchmark</a>.</li></ul></div></div></section><section name="ff1c" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="a206" id="a206" class="graf graf--h3 graf--leading">Getting Started</h3><p name="516c" id="516c" class="graf graf--p graf-after--h3">Because Coil uses Java 8, one of the prerequisites is that you enable Java 8 in your Android project. You can do so in your module’s <code class="markup--code markup--p-code">build.gradle</code> file:</p><figure name="5dcc" id="5dcc" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/rosariopfernandes/c11b1306ed35da737e46b26618975aae.js"></script><figcaption class="imageCaption">Enabling Java 8</figcaption></figure><p name="a8f9" id="a8f9" class="graf graf--p graf-after--figure">Then you add it as a dependency on that same file:</p><pre name="352f" id="352f" class="graf graf--pre graf-after--p graf--trailing"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">dependencies {<br>    // ... other dependencies<br>    <strong class="markup--strong markup--pre-strong">implementation &#39;io.coil-kt:coil:0.11.0&#39;</strong><br>}</code></pre></div></div></section><section name="c78b" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="6e99" id="6e99" class="graf graf--h4 graf--leading">Usage</h4><p name="d2d8" id="d2d8" class="graf graf--p graf-after--h4">The simplest way to use Coil is by calling the <code class="markup--code markup--p-code">ImageView.load()</code> extension functions that the library provides:</p><pre name="a1ed" id="a1ed" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">// URL<br>imageView.<strong class="markup--strong markup--pre-strong">load(</strong>&quot;https://www.example.com/image.jpg&quot;<strong class="markup--strong markup--pre-strong">)</strong><br><br>// Resource<br>imageView.<strong class="markup--strong markup--pre-strong">load(</strong>R.drawable.image<strong class="markup--strong markup--pre-strong">)</strong></code></pre><p name="7a3f" id="7a3f" class="graf graf--p graf-after--pre">You can also specify a <code class="markup--code markup--p-code">placeholder</code> or any other additional configuration on a trailing lambda:</p><pre name="ca13" id="ca13" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">imageView.<strong class="markup--strong markup--pre-strong">load(</strong>&quot;https://www.example.com/image.jpg&quot;<strong class="markup--strong markup--pre-strong">)</strong> <strong class="markup--strong markup--pre-strong">{</strong><br>    <strong class="markup--strong markup--pre-strong">placeholder(</strong>R.drawable.image<strong class="markup--strong markup--pre-strong">)</strong><br>    <strong class="markup--strong markup--pre-strong">transformations(</strong>CircleCropTransformation()<strong class="markup--strong markup--pre-strong">)</strong><br><strong class="markup--strong markup--pre-strong">}</strong></code></pre><p name="1836" id="1836" class="graf graf--p graf-after--pre graf--trailing">Apart from the extension functions, Coil also provides other ways to load images, such as <a href="https://coil-kt.github.io/coil/requests/" data-href="https://coil-kt.github.io/coil/requests/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Requests</a> and <a href="https://coil-kt.github.io/coil/image_loaders/" data-href="https://coil-kt.github.io/coil/image_loaders/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Image Loaders</a>, which I won’t go through for brevity. But you can learn more about them in their <a href="https://coil-kt.github.io/coil/getting_started/" data-href="https://coil-kt.github.io/coil/getting_started/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Documentation</a>.</p></div></div></section><section name="8597" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="3620" id="3620" class="graf graf--h3 graf--leading">Coil Plus Cloud Storage for Firebase</h3><p name="89a7" id="89a7" class="graf graf--p graf-after--h3">Let’s say you have an image stored on Cloud Storage for Firebase, which can be accessed using the path “users/me/profile.png”. To display this image on an <code class="markup--code markup--p-code">ImageView</code> in your Android App, you may need to get its <code class="markup--code markup--p-code">download URL</code> first and then pass it to Coil, as <a href="https://firebase.google.com/docs/storage/android/download-files#download_data_via_url" data-href="https://firebase.google.com/docs/storage/android/download-files#download_data_via_url" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">the docs</a> suggest:</p><figure name="cbcb" id="cbcb" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/rosariopfernandes/f7056b7a992acd1f1759e8f90fa764d0.js"></script><figcaption class="imageCaption">Load an image from Cloud Storage for Firebase using Coil</figcaption></figure><p name="6643" id="6643" class="graf graf--p graf-after--figure">It looks simple, right? But what if I told you that even this can be simplified? <br>That’s where <a href="https://firebaseopensource.com/projects/rosariopfernandes/firecoil/" data-href="https://firebaseopensource.com/projects/rosariopfernandes/firecoil/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">firecoil</a> comes in.</p><h3 name="efd7" id="efd7" class="graf graf--h3 graf-after--p">firecoil: Firebase and Coil</h3><p name="913d" id="913d" class="graf graf--p graf-after--h3"><a href="https://firebaseopensource.com/projects/rosariopfernandes/firecoil/" data-href="https://firebaseopensource.com/projects/rosariopfernandes/firecoil/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">firecoil</a> is an open-source library that allows you to load images with Coil by simply providing the <code class="markup--code markup--p-code">StorageReference</code> of said image. To use firecoil, you’ll need to add the <code class="markup--code markup--p-code">jitpack</code> maven to your project’s <code class="markup--code markup--p-code">build.gradle</code> file:</p><pre name="ec8f" id="ec8f" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">repositories {<br>    // ...<br>    <strong class="markup--strong markup--pre-strong">maven { url &#39;https://jitpack.io&#39; }</strong><br>}</code></pre><p name="9614" id="9614" class="graf graf--p graf-after--pre">Next add the firecoil dependency to your module’s <code class="markup--code markup--p-code">build.gradle</code> file:</p><pre name="fc41" id="fc41" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code"><strong class="markup--strong markup--pre-strong">implementation &#39;com.github.rosariopfernandes:firecoil:0.2.0&#39;</strong></code></pre><p name="bda4" id="bda4" class="graf graf--p graf-after--pre">Now with firecoil you no longer need to get the download URL. You can simply pass your <code class="markup--code markup--p-code">StorageReference</code> to the <code class="markup--code markup--p-code">ImageView.load()</code> extension function provided by the library:</p><figure name="360d" id="360d" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/rosariopfernandes/962b7084c9ac22aba3762f45054c6fc0.js"></script><figcaption class="imageCaption">Load an image from Cloud Storage for Firebase using firecoil</figcaption></figure><p name="8bf6" id="8bf6" class="graf graf--p graf-after--figure">Since firecoil is built on top of Coil, you can also use a trailing lambda to specify additional configuration:</p><figure name="1145" id="1145" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/rosariopfernandes/6161cc6efa49114e54962b6532033f6a.js"></script><figcaption class="imageCaption">Load an image from Cloud Storage for Firebase using firecoil and additional configuration</figcaption></figure><p name="1f7c" id="1f7c" class="graf graf--p graf-after--figure graf--trailing">That’s it! With this simple and concise snippet, your app should now have beautiful images displayed.</p></div></div></section><section name="32f8" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1c0a" id="1c0a" class="graf graf--h3 graf--leading">Resources</h3><ul class="postList"><li name="5fda" id="5fda" class="graf graf--li graf-after--h3">Coil on GitHub: <a href="https://github.com/coil-kt/coil" data-href="https://github.com/coil-kt/coil" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">https://github.com/coil-kt/coil</a></li><li name="56c0" id="56c0" class="graf graf--li graf-after--li">firecoil on GitHub: <a href="https://github.com/rosariopfernandes/firecoil" data-href="https://github.com/rosariopfernandes/firecoil" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">https://github.com/rosariopfernandes/firecoil</a></li><li name="ffcd" id="ffcd" class="graf graf--li graf-after--li">Coil Documentation: <a href="https://coil-kt.github.io/coil/" data-href="https://coil-kt.github.io/coil/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://coil-kt.github.io/coil/</a></li><li name="4106" id="4106" class="graf graf--li graf-after--li">firecoil Documentation: <a href="https://firebaseopensource.com/projects/rosariopfernandes/firecoil" data-href="https://firebaseopensource.com/projects/rosariopfernandes/firecoil" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">https://firebaseopensource.com/projects/rosariopfernandes/firecoil</a></li><li name="b41d" id="b41d" class="graf graf--li graf-after--li graf--trailing">Glide vs. Picasso vs. Coil Benchmark: <a href="https://proandroiddev.com/coil-vs-picasso-vs-glide-get-ready-go-774add8cfd40?gi=f21b6d717eec" data-href="https://proandroiddev.com/coil-vs-picasso-vs-glide-get-ready-go-774add8cfd40?gi=f21b6d717eec" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://proandroiddev.com/coil-vs-picasso-vs-glide-get-ready-go-774add8cfd40</a></li></ul></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@thatfire.dev" class="p-author h-card">Rosário Pereira Fernandes</a> on <a href="https://medium.com/p/d1574a059e04"><time class="dt-published" datetime="2020-06-15T14:24:30.326Z">June 15, 2020</time></a>.</p><p><a href="https://medium.com/@thatfire.dev/loading-images-from-cloud-storage-on-a-kotlin-android-app-d1574a059e04" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 24, 2025.</p></footer></article></body></html>