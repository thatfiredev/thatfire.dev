<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>#SmallerAPK — Vector Drawables</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">#SmallerAPK — Vector Drawables</h1>
</header>
<section data-field="subtitle" class="p-summary">
Se você desenvolve aplicações android, provavelmente conhece o conceito de drawables. E se segue as boas práticas da plataforma, de certeza…
</section>
<section data-field="body" class="e-content">
<section name="1412" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="d0e9" id="d0e9" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*52ChfRyQa3nzE7zMOxbHtw.png" data-width="1043" data-height="313" src="https://cdn-images-1.medium.com/max/800/1*52ChfRyQa3nzE7zMOxbHtw.png"><figcaption class="imageCaption">Um único vector drawable é mais leve do que múltiplos bitmaps.</figcaption></figure><h3 name="51b2" id="51b2" class="graf graf--h3 graf-after--figure graf--title">#SmallerAPK — Vector Drawables</h3><p name="5106" id="5106" class="graf graf--p graf-after--h3">Se você desenvolve aplicações android, provavelmente conhece o conceito de <a href="https://developer.android.com/reference/android/graphics/drawable/Drawable.html" data-href="https://developer.android.com/reference/android/graphics/drawable/Drawable.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">drawables</a>. E se segue as boas práticas da plataforma, de certeza que já teve de redimensionar uma imagem para se adaptar à resoluções de dispositivos diferentes. Isto é, criar uma imagem com um certo tamanho para dispositivos <em class="markup--em markup--p-em">hdpi</em>, uma outra para <em class="markup--em markup--p-em">mdpi</em> e outras para <em class="markup--em markup--p-em">xhdpi, xxhdpi</em> e por aí em diante.</p><p name="e478" id="e478" class="graf graf--p graf-after--p">Mas, e se fosse possível usar apenas um drawable capaz de se redimensionar de acordo com o tamanho da tela do dispositivo do usuário?</p><p name="031a" id="031a" class="graf graf--p graf-after--p">Foi assim que os engenheiros do robô verde pensaram quando nos trouxeram os <strong class="markup--strong markup--p-strong">Vector Drawables</strong> no android Lollipop (5.0). Apesar de ter sido lançado junto da API 21, pouco tempo depois, eles colocaram os vector drawables na <a href="https://developer.android.com/topic/libraries/support-library/index.html" data-href="https://developer.android.com/topic/libraries/support-library/index.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">support library</a> (apartir da versão 23.2), permitindo assim que qualquer telemóvel com android superior a Éclair 2.1 (API 7) possa utilizar esta funcionalidade.</p><p name="ba3b" id="ba3b" class="graf graf--p graf-after--p">Um Vector Drawable é um ficheiro xml, onde definimos o <em class="markup--em markup--p-em">path</em> (exactamente como define-se na criação de ficheiros <a href="https://www.w3.org/TR/SVG11/paths.html#PathData" data-href="https://www.w3.org/TR/SVG11/paths.html#PathData" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">SVG</a>) que é onde fornecemos as coordenadas dos pontos que devem ser desenhados. Aqui está um exemplo de um vector drawable:</p><h4 name="aa64" id="aa64" class="graf graf--h4 graf-after--p">ic_add.xml</h4><pre name="b645" id="b645" class="graf graf--pre graf-after--h4">&lt;vector xmlns:android=”http://schemas.android.com/apk/res/android&quot;</pre><pre name="1dea" id="1dea" class="graf graf--pre graf-after--pre">android:width=”24dp”</pre><pre name="e8ae" id="e8ae" class="graf graf--pre graf-after--pre">android:height=”24dp”</pre><pre name="a93c" id="a93c" class="graf graf--pre graf-after--pre">android:viewportWidth=”24.0&quot;</pre><pre name="147d" id="147d" class="graf graf--pre graf-after--pre">android:viewportHeight=”24.0&quot;&gt;</pre><pre name="63ed" id="63ed" class="graf graf--pre graf-after--pre">&lt;path</pre><pre name="0b9f" id="0b9f" class="graf graf--pre graf-after--pre">android:fillColor=”#FF000000&quot;</pre><pre name="d5c9" id="d5c9" class="graf graf--pre graf-after--pre">android:pathData=”M19,13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z”/&gt;</pre><pre name="b8c7" id="b8c7" class="graf graf--pre graf-after--pre">&lt;/vector&gt;</pre><p name="b4ca" id="b4ca" class="graf graf--p graf-after--pre">O código acima irá criar um drawable com a figura de um ‘<em class="markup--em markup--p-em">mais</em>’ ( + ) na cor preta. Para usarmos este vector drawable em um dos nossos widgets, basta definí-lo normalmente como definimos os outros drawables:</p><pre name="f6f6" id="f6f6" class="graf graf--pre graf-after--p">…</pre><pre name="416a" id="416a" class="graf graf--pre graf-after--pre">android:src= “@drawable/ic_add”</pre><pre name="77f7" id="77f7" class="graf graf--pre graf-after--pre">…</pre><p name="375d" id="375d" class="graf graf--p graf-after--pre">Fazendo uma comparação rápida, se usássemos um ficheiro png para cada dispositivo (mdpi, hdpi, xhdpi, xxhdpi e xxhdpi) estaríamos a colocar mais 551bytes na nossa app. Enquanto que o ficheiro xml aumenta apenas 325bytes. Uma diferença de 41%, que pode não parecer muito, mas é se você tiver uma app com muitos drawables.</p><figure name="d5aa" id="d5aa" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*Gx5rscMDLOHjGlWtxy-VPQ.png" data-width="421" data-height="203" src="https://cdn-images-1.medium.com/max/800/1*Gx5rscMDLOHjGlWtxy-VPQ.png"></figure><p name="2e04" id="2e04" class="graf graf--p graf-after--figure">A única desvantagem de usar vector drawables é a dificuldade de criar paths (para quem não tem experiência com svg), mas para facilitar, as últimas versões do <a href="https://github.com/google/material-design-icons" data-href="https://github.com/google/material-design-icons" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Google Material Icons</a> já possuem os seus ícones em formato xml. Eles ficam no directório <a href="https://github.com/google/material-design-icons/tree/master/action/drawable-anydpi-v21" data-href="https://github.com/google/material-design-icons/tree/master/action/drawable-anydpi-v21" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">any-dpi</a>. Assim, só teremos de usar o formato <em class="markup--em markup--p-em">png</em> para imagens mais complexas.</p><p name="1f6e" id="1f6e" class="graf graf--p graf-after--p">Espero ter deixado o básico dos Vector Drawables. Se você quiser saber mais, pode consultar <a href="https://developer.android.com/reference/android/graphics/drawable/VectorDrawable.html" data-href="https://developer.android.com/reference/android/graphics/drawable/VectorDrawable.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">a documentação</a>.</p><p name="1012" id="1012" class="graf graf--p graf-after--p">Até a próxima!</p><p name="209c" id="209c" class="graf graf--p graf-after--p graf--trailing">Rosário Pereira Fernandes</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@thatfire.dev" class="p-author h-card">Rosário Pereira Fernandes</a> on <a href="https://medium.com/p/b0df65a85e9d"><time class="dt-published" datetime="2016-05-20T16:01:41.503Z">May 20, 2016</time></a>.</p><p><a href="https://medium.com/@thatfire.dev/smallerapk-vector-drawables-b0df65a85e9d" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 24, 2025.</p></footer></article></body></html>