<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Firebase Auth — Facebook Login</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Firebase Auth — Facebook Login</h1>
</header>
<section data-field="subtitle" class="p-summary">
Muitas aplicações precisam de conhecer a identidade dos seus usuários para oferecer uma experiência personalizada e para manter os seus…
</section>
<section data-field="body" class="e-content">
<section name="6a57" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="868f" id="868f" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*tSMAAL1HT7Jxe2l_XJJTIg.png" data-width="1043" data-height="313" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*tSMAAL1HT7Jxe2l_XJJTIg.png"></figure><h3 name="e6b2" id="e6b2" class="graf graf--h3 graf-after--figure graf--title">Firebase Auth — Facebook Login</h3><p name="c695" id="c695" class="graf graf--p graf-after--h3">Muitas aplicações precisam de conhecer a identidade dos seus usuários para oferecer uma experiência personalizada e para manter os seus dados seguros.</p><p name="877a" id="877a" class="graf graf--p graf-after--p">Se você está utilizando firebase como backend da sua aplicação, você fez a melhor escolha. Se você não conhece o firebase, pode ler esta série de artigos do <a href="https://medium.com/u/9d9c86920a50" data-href="https://medium.com/u/9d9c86920a50" data-anchor-type="2" data-user-id="9d9c86920a50" data-action-value="9d9c86920a50" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Dario Mungoi</a>:</p><ul class="postList"><li name="d614" id="d614" class="graf graf--li graf-after--p"><a href="https://medium.com/google-developer-experts/primeira-impress%C3%A3o-do-novo-firebase-afaeaeaa1395#.43xsasung" data-href="https://medium.com/google-developer-experts/primeira-impress%C3%A3o-do-novo-firebase-afaeaeaa1395#.43xsasung" class="markup--anchor markup--li-anchor" target="_blank">Primeira Impressão do “novo” Firebase</a></li><li name="42ae" id="42ae" class="graf graf--li graf-after--li"><a href="https://medium.com/@mungoidario/realtime-databases-part-1-9a8f1ed171b2" data-href="https://medium.com/@mungoidario/realtime-databases-part-1-9a8f1ed171b2" class="markup--anchor markup--li-anchor" target="_blank">Realtime Databases — parte 1</a></li><li name="0b48" id="0b48" class="graf graf--li graf-after--li"><a href="https://medium.com/@mungoidario/realtime-databases-parte-2-ef3095ef0743" data-href="https://medium.com/@mungoidario/realtime-databases-parte-2-ef3095ef0743" class="markup--anchor markup--li-anchor" target="_blank">Realtime Databases — parte 2</a></li><li name="07e2" id="07e2" class="graf graf--li graf-after--li"><a href="https://medium.com/@mungoidario/firebase-auth-com-google-signin-ff89643322ab" data-href="https://medium.com/@mungoidario/firebase-auth-com-google-signin-ff89643322ab" class="markup--anchor markup--li-anchor" target="_blank">Firebase Auth com Google Sign-in</a></li><li name="1b06" id="1b06" class="graf graf--li graf-after--li"><a href="https://medium.com/@mungoidario/mantendo-os-dados-seguros-no-firebase-com-security-rules-ce248d9be1c5" data-href="https://medium.com/@mungoidario/mantendo-os-dados-seguros-no-firebase-com-security-rules-ce248d9be1c5" class="markup--anchor markup--li-anchor" target="_blank">Mantendo os dados seguros no Firebase com Security Rules</a></li><li name="487a" id="487a" class="graf graf--li graf-after--li"><a href="https://medium.com/android-dev-moz/realtime-databases-part-3-%C3%ADndices-e-queries-d3cdbc84dbfd?source=user_profile---------9-" data-href="https://medium.com/android-dev-moz/realtime-databases-part-3-%C3%ADndices-e-queries-d3cdbc84dbfd?source=user_profile---------9-" class="markup--anchor markup--li-anchor" target="_blank">Realtime Databases parte 3 — índices e queries</a></li><li name="28af" id="28af" class="graf graf--li graf-after--li"><a href="https://medium.com/android-dev-moz/firebase-notifications-part-1-a6de2f579940" data-href="https://medium.com/android-dev-moz/firebase-notifications-part-1-a6de2f579940" class="markup--anchor markup--li-anchor" target="_blank">Firebase Notifications — parte 1</a></li></ul><h4 name="3e8a" id="3e8a" class="graf graf--h4 graf-after--li">Autenticação no Firebase</h4><p name="0cda" id="0cda" class="graf graf--p graf-after--h4">Firebase oferece várias opções de autenticação. Você pode permitir que os seus usuários sejam autenticados com provedores como: <a href="https://www.google.com" data-href="https://www.google.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Google</a>, <a href="https://facebook.com" data-href="https://facebook.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Facebook</a>, <a href="https://twitter.com" data-href="https://twitter.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Twitter</a> ou <a href="https://github.com" data-href="https://github.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">GitHub</a>. Ou você pode até criar o seu próprio sistema de autenticação.</p><p name="8427" id="8427" class="graf graf--p graf-after--p">Quando um usuário é autenticado na sua aplicação, 3 coisas acontecem:</p><p name="5f3e" id="5f3e" class="graf graf--p graf-after--p">- Informações sobre o usuário são enviadas para a aplicação para oferecer uma experiência personalizada</p><p name="122b" id="122b" class="graf graf--p graf-after--p">- É gerado um ID para cada um dos usuários, independetemente do seu provedor</p><p name="b7a9" id="b7a9" class="graf graf--p graf-after--p">- Firebase gere a sessão do usuário para que ele continue autenticado mesmo quando a aplicação ou browser é reiniciado.</p><p name="78d8" id="78d8" class="graf graf--p graf-after--p">Neste artigo, explico como implementar o Facebook Login usando firebase no Android. Vou ensinar como criar uma aplicação no facebook e como permitir que os usuários façam login no Android. Assumo que você já criou o seu projecto na consola do firebase.</p><h4 name="2207" id="2207" class="graf graf--h4 graf-after--p">1. Criar uma app no facebook</h4><p name="27c7" id="27c7" class="graf graf--p graf-after--h4">Para criar uma app no facebook, você tem de ter conta de desenvolvedor no facebook. Para isso, <a href="https://developers.facebook.com/docs/apps/register" data-href="https://developers.facebook.com/docs/apps/register" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">clique aqui</a> e siga os passos necessários.</p><h4 name="43f0" id="43f0" class="graf graf--h4 graf-after--p">2. Activar o Facebook Login na consola do firebase</h4><p name="c295" id="c295" class="graf graf--p graf-after--h4">Vá para a secção <em class="markup--em markup--p-em">Auth (Autenticação), </em>na aba métodos de login clique em provedores de login e active o provedor Facebook.</p><h4 name="d6e3" id="d6e3" class="graf graf--h4 graf-after--p">3. Adicionar Firebase Authentication à nossa App</h4><p name="4300" id="4300" class="graf graf--p graf-after--h4">Vamos criar uma aplicação android que permite aos usuários autenticarem-se e verem as suas informações.</p><p name="620e" id="620e" class="graf graf--p graf-after--p">Para começar, vamos adicionar o firebase à nossa aplicação Android. Para fazer isso, temos de adicionar ao gradle:</p><pre name="4bf5" id="4bf5" class="graf graf--pre graf-after--p">//para usar o firebase auth<br>compile &#39;com.google.firebase:firebase-auth:9.2.0&#39;<br>compile &#39;com.google.firebase:firebase-core:9.2.0&#39;</pre><pre name="0dc1" id="0dc1" class="graf graf--pre graf-after--pre">//para usar o facebook sdk<br>compile &#39;com.facebook.android:facebook-android-sdk:4.13.2&#39;</pre><p name="c444" id="c444" class="graf graf--p graf-after--pre">Na nossa Activity declaramos algumas variáveis:</p><pre name="e16b" id="e16b" class="graf graf--pre graf-after--p">private CallbackManager mCallBackManager;<br>private Button btnFacebook;<br>private FirebaseAuth mAuth;<br>private FirebaseAuth.AuthStateListener mAuthListener;</pre><p name="cc62" id="cc62" class="graf graf--p graf-after--pre">No método onCreate temos de inicializar o Facebook SDK e instanciar as variáveis que declaramos:</p><pre name="0210" id="0210" class="graf graf--pre graf-after--p">FacebookSdk.<em class="markup--em markup--pre-em">sdkInitialize</em>(getApplicationContext()); //inicializar o Facebook SDK</pre><pre name="85bd" id="85bd" class="graf graf--pre graf-after--pre">mAuth = FirebaseAuth.<em class="markup--em markup--pre-em">getInstance</em>(); //pegar a instancia do Firebase Auth<br><br>mAuthListener = new FirebaseAuth.AuthStateListener() {<br>    @Override<br>    public void onAuthStateChanged(FirebaseAuth firebaseAuth) {<br>        FirebaseUser user= firebaseAuth.getCurrentUser();<br>        if(user!=null)<br>        {<br>            String username = user.getDisplayName();<br>            Toast.makeText(this, &quot;Bem-vindo &quot;+username, Toast.LENGHT_LONG).show();<br>        }<br>    }<br>};</pre><pre name="33fd" id="33fd" class="graf graf--pre graf-after--pre">btnFacebook = (Button) findViewById(R.id.<em class="markup--em markup--pre-em">btnFacebook</em>); //localizar o botão de login declarado no layout da activity</pre><pre name="3375" id="3375" class="graf graf--pre graf-after--pre">mCallBackManager = CallbackManager.Factory.<em class="markup--em markup--pre-em">create</em>();<br>LoginManager.<em class="markup--em markup--pre-em">getInstance</em>().registerCallback(mCallBackManager, new FacebookCallback&lt;LoginResult&gt;() {<br>    @Override<br>    public void onSuccess(LoginResult loginResult) {<br>        AuthCredential credential = FacebookAuthProvider<br>                .<em class="markup--em markup--pre-em">getCredential</em>(loginResult.getAccessToken().getToken());<br>        <strong class="markup--strong markup--pre-strong"><em class="markup--em markup--pre-em">signInCredential</em></strong>(credential);<br>    }<br><br>    @Override<br>    public void onCancel() {<br>        // O user cancelou o login enquanto carregava<br>    }<br><br>    @Override<br>    public void onError(FacebookException error) {<br>        //Ocorreu um erro ao tentar fazer logi<br>    }<br>});</pre><pre name="f648" id="f648" class="graf graf--pre graf-after--pre">btnFacebook.setOnClickListener(new View.OnClickListener() {<br>    @Override<br>    public void onClick(View view) {<br>        LoginManager.<em class="markup--em markup--pre-em">getInstance</em>().logInWithReadPermissions(this,<br>                Arrays.<em class="markup--em markup--pre-em">asList</em>(&quot;public_profile&quot;, &quot;email&quot;));<br>    }<br>});</pre><p name="ed3a" id="ed3a" class="graf graf--p graf-after--pre">Repare que no onClickListener do botão de login fazemos login com permissões para ler os dados públicos do perfil e o email do usuário. Mas existem mais permissões além destas. Você pode ver a lista completa <a href="https://developers.facebook.com/docs/facebook-login/permissions" data-href="https://developers.facebook.com/docs/facebook-login/permissions" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">aqui</a>.</p><p name="fbf9" id="fbf9" class="graf graf--p graf-after--p">Não posso me esquecer de deixar o método <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">signInCredential</em></strong>:</p><pre name="84ec" id="84ec" class="graf graf--pre graf-after--p">private void <strong class="markup--strong markup--pre-strong"><em class="markup--em markup--pre-em">signInCredential</em></strong>(AuthCredential credential)<br>{<br>        mAuth.signInWithCredential(credential)<br>            .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {<br>                @Override<br>                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {<br>                    if(task.isSuccessful())<br>                    {<br>                        FirebaseUser usuario = mAuth.getCurrentUser();<br>                        // todos os dados do usuário ficam guardados na variavel usuario.<br><br></pre><pre name="21e4" id="21e4" class="graf graf--pre graf-after--pre">                    }<br>                    else<br>                    {<br>                        //O login falhou<br>                    }<br>                }<br>            });<br>}</pre><p name="803a" id="803a" class="graf graf--p graf-after--pre">No método onActivityResult da nossa Activity:</p><pre name="8dc5" id="8dc5" class="graf graf--pre graf-after--p">protected void onActivityResult(int requestCode, int resultCode, Intent data) {<br>        mCallBackManager.onActivityResult(requestCode, resultCode, data);<br>}</pre><p name="4f74" id="4f74" class="graf graf--p graf-after--pre graf--trailing">Pronto. Autenticar usuários com Facebook no Firebase é tao simples quanto isto. Se você estiver a desenvolver uma aplicação utilizando firebase, eu ficaria feliz em vê-la (<a href="mailto:rosariofernandes51@gmail.com" data-href="mailto:rosariofernandes51@gmail.com" class="markup--anchor markup--p-anchor" target="_blank">rosariofernandes51@gmail.com</a>). :)</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@thatfire.dev" class="p-author h-card">Rosário Pereira Fernandes</a> on <a href="https://medium.com/p/6537e78456c6"><time class="dt-published" datetime="2016-09-04T21:57:40.391Z">September 4, 2016</time></a>.</p><p><a href="https://medium.com/@thatfire.dev/firebase-auth-facebook-login-6537e78456c6" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 24, 2025.</p></footer></article></body></html>