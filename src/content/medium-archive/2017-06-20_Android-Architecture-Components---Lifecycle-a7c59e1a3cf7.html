<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Android Architecture Componentsâ€Šâ€”â€ŠLifecycle</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Android Architecture Componentsâ€Šâ€”â€ŠLifecycle</h1>
</header>
<section data-field="subtitle" class="p-summary">
ConheÃ§a o â€œLifecycleâ€ da biblioteca Android Architecture Components apresentada no Google I/O 2017
</section>
<section data-field="description" class="p-summary">
Agora que jÃ¡ sabemos o que sÃ£o Architecture Components, estÃ¡ na hora de conhecer cada um deles e saber como (e quando) utilizÃ¡-los.
</section>
<section data-field="body" class="e-content">
<section name="f1a2" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="9560" id="9560" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*sPrF4GuQJbCZPecl-rWoyQ.png" data-width="1043" data-height="313" src="https://cdn-images-1.medium.com/max/800/1*sPrF4GuQJbCZPecl-rWoyQ.png"></figure><h3 name="f850" id="f850" class="graf graf--h3 graf-after--figure graf--title">Android Architecture Componentsâ€Šâ€”â€ŠLifecycle</h3><p name="4d06" id="4d06" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Este artigo Ã© parte da sÃ©rie Android Architecture Components:</strong></p><ol class="postList"><li name="aebc" id="aebc" class="graf graf--li graf-after--p"><a href="https://medium.com/@rosariopfernandes/aac1-bc22abbabecc" data-href="https://medium.com/@rosariopfernandes/aac1-bc22abbabecc" class="markup--anchor markup--li-anchor" target="_blank">Android Architecture Componentsâ€Šâ€”â€ŠOlÃ¡ Mundo</a></li><li name="8859" id="8859" class="graf graf--li graf-after--li"><a href="https://medium.com/@rosariopfernandes/aac2-a7c59e1a3cf7" data-href="https://medium.com/@rosariopfernandes/aac2-a7c59e1a3cf7" class="markup--anchor markup--li-anchor" target="_blank">Android Architecture Componentsâ€Šâ€”â€ŠLifecycle</a></li><li name="56e8" id="56e8" class="graf graf--li graf-after--li"><a href="https://medium.com/@rosariopfernandes/aac3-1df6cd39b4e0" data-href="https://medium.com/@rosariopfernandes/aac3-1df6cd39b4e0" class="markup--anchor markup--li-anchor" target="_blank">Android Architecture Componentsâ€Šâ€”â€ŠLifecycleOwner</a></li><li name="d28f" id="d28f" class="graf graf--li graf-after--li"><a href="https://medium.com/@rosariopfernandes/aac4-f971fed5d2a3" data-href="https://medium.com/@rosariopfernandes/aac4-f971fed5d2a3" class="markup--anchor markup--li-anchor" target="_blank">Android Architecture Componentsâ€Šâ€”â€ŠViewModel</a></li><li name="1031" id="1031" class="graf graf--li graf-after--li"><a href="https://medium.com/@rosariopfernandes/aac5-9c56e6b4cffc" data-href="https://medium.com/@rosariopfernandes/aac5-9c56e6b4cffc" class="markup--anchor markup--li-anchor" target="_blank">Android Architecture Componentsâ€Šâ€”â€ŠLiveData</a></li><li name="0d37" id="0d37" class="graf graf--li graf-after--li graf--trailing"><a href="https://medium.com/@rosariopfernandes/aac6-b46de8513df8" data-href="https://medium.com/@rosariopfernandes/aac6-b46de8513df8" class="markup--anchor markup--li-anchor" target="_blank">Android Architecture Componentsâ€Šâ€”â€ŠRoom</a></li></ol></div></div></section><section name="425d" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="3c24" id="3c24" class="graf graf--p graf--leading">Agora que jÃ¡ sabemos o que sÃ£o Architecture Components, estÃ¡ na hora de conhecer cada um deles e saber como (e quando) utilizÃ¡-los. Vamos comeÃ§ar pelo principal motivo da criaÃ§Ã£o da biblioteca: <a href="https://developer.android.com/topic/libraries/architecture/lifecycle.html" data-href="https://developer.android.com/topic/libraries/architecture/lifecycle.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Lifecycle</strong></a>.</p><p name="46df" id="46df" class="graf graf--p graf-after--p">Como jÃ¡ tinha dito no artigo anterior, <a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Lifecycle</a> Ã© uma classe responsÃ¡vel por guardar informaÃ§Ã£o sobre o ciclo de vida de uma activity/fragment (seus estados e eventos). EntÃ£o o que sÃ£o estes <a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.State.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.State.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">estados</a> e <a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.Event.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.Event.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">eventos</a>?</p><h3 name="5a34" id="5a34" class="graf graf--h3 graf-after--p">Eventos</h3><p name="177d" id="177d" class="graf graf--p graf-after--h3">Este evento representa o evento do ciclo de vida que Ã© chamado quando acontece uma alteraÃ§Ã£o no ciclo de vida (como ao voltar a abrir a activity, por exemplo).</p><p name="9199" id="9199" class="graf graf--p graf-after--p">A biblioteca Components traz algumas <em class="markup--em markup--p-em">Annotations</em> para utilizarmos quando queremos definir os mÃ©todos que devem ser chamados na alteraÃ§Ã£o de eventos do clico de vida. Antes de vermos como estas anotaÃ§Ãµes funcionam, gostaria de mostrar um exemplo simples:</p><pre name="cfc1" id="cfc1" class="graf graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">@OnLifecycleEvent</strong>(ON_RESUME)<br><strong class="markup--strong markup--pre-strong">private void</strong> resumo(){}</pre><p name="2a4f" id="2a4f" class="graf graf--p graf-after--pre">Achei este conceito de anotaÃ§Ãµes muito prÃ¡tico porque assim nÃ£o temos de reescrever uma aplicaÃ§Ã£o jÃ¡ existente. Basta adicionarmos anotaÃ§Ãµes aos mÃ©todos jÃ¡ criados para que sejam chamados durantes os eventos que pretendemos.</p><p name="c218" id="c218" class="graf graf--p graf-after--p">Os eventos que podem ocorrer sÃ£o:</p><ul class="postList"><li name="74d4" id="74d4" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">ON_CREATE</strong>â€Šâ€”â€Šquando o <a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener" target="_blank">LifecycleOwner</a> Ã© criado. (Corresponde ao <em class="markup--em markup--li-em">onCreate</em> do Android framework)</li><li name="e7fe" id="e7fe" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">ON_DESTROY</strong>â€Šâ€”â€Šquando o <a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener" target="_blank">LifecycleOwner</a> Ã© destruÃ­do. (Corresponde ao <em class="markup--em markup--li-em">onDestroy</em> do framework)</li><li name="d5b5" id="d5b5" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">ON_PAUSE</strong>â€Šâ€”â€Šquando o LifecycleOwner Ã© pausado. (Corresponde ao <em class="markup--em markup--li-em">onPause</em> do framework)</li><li name="04b8" id="04b8" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">ON_RESUME</strong>â€Šâ€”â€Šquando o <a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener" target="_blank">LifecycleOwner</a> Ã© resumido. (Corresponde ao <em class="markup--em markup--li-em">onResume</em> do framework)</li><li name="9499" id="9499" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">ON_START</strong>â€Šâ€”â€Šquando o <a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener" target="_blank">LifecycleOwner</a> Ã© iniciado. (Corresponde ao <em class="markup--em markup--li-em">onStart</em> do framework)</li><li name="f3b9" id="f3b9" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">ON_STOP</strong>â€Šâ€”â€Šquando o <a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener" target="_blank">LifecycleOwner</a> Ã© parado. (Corresponde ao <em class="markup--em markup--li-em">onStop</em> do framework)</li><li name="680b" id="680b" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">ON_ANY</strong>â€Šâ€”â€Šchamado quando ocorre qualquer tipo de evento no ciclo de vida do LifecycleOwner. (Qualquer um dos eventos acima mencionados)</li></ul><h3 name="1f2c" id="1f2c" class="graf graf--h3 graf-after--li">Estados</h3><p name="fe82" id="fe82" class="graf graf--p graf-after--h3">Os estados servem simplesmente para indicar o ponto em que o nosso LifecyclerOwner se encontra no seu ciclo de vida. Sempre que ocorre um evento hÃ¡ tambÃ©m uma mudanÃ§a de estado, como podemos ver no diagrama a seguir:</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="99d4" id="99d4" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><img class="graf-image" data-image-id="1*BUgFAj2kf8CmkM_vXnr_fA.png" data-width="1280" data-height="720" src="https://cdn-images-1.medium.com/max/1200/1*BUgFAj2kf8CmkM_vXnr_fA.png"></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="3ce0" id="3ce0" class="graf graf--p graf-after--figure">DÃ¡ para notar, pelo diagrama, que existem 5 estados:</p><ul class="postList"><li name="0e11" id="0e11" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">INITIALIZED</strong>â€Šâ€”â€Šo estado em que fica o LifecycleOwner antes do seu primeiro evento (antes de ser criado).</li><li name="6f04" id="6f04" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">CREATED</strong>â€Šâ€”â€Šo estado depois do <strong class="markup--strong markup--li-strong">ON_CREATE</strong>, mas antes do <strong class="markup--strong markup--li-strong">ON_STARTÂ </strong>. E tambÃ©m depois do <strong class="markup--strong markup--li-strong">ON_STOP </strong>e antes do <strong class="markup--strong markup--li-strong">ON_DESTROY</strong>.</li><li name="9df3" id="9df3" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">STARTED</strong>â€Šâ€”â€Šo estado depois do <strong class="markup--strong markup--li-strong">ON_START</strong>, mas antes do<strong class="markup--strong markup--li-strong"> ON_RESUME</strong>. E tambÃ©m depois do <strong class="markup--strong markup--li-strong">ON_PAUSE </strong>e antes do <strong class="markup--strong markup--li-strong">ON_STOP</strong>.</li><li name="dacf" id="dacf" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">RESUMED</strong>â€Šâ€”â€Šo estado depois do <strong class="markup--strong markup--li-strong">ON_RESUME</strong>.</li><li name="b9e1" id="b9e1" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">DESTROYED</strong>â€Šâ€”â€Šo estado depois do <strong class="markup--strong markup--li-strong">ON_DESTROY</strong>.</li></ul><p name="b428" id="b428" class="graf graf--p graf-after--li">E a grande novidade aqui Ã© algo que a maior parte de nÃ³s desenvolvedores jÃ¡ vinha pedindo hÃ¡ muito: <strong class="markup--strong markup--p-strong">um mÃ©todo para saber em que estado a activity/fragment estÃ¡!</strong></p><p name="2546" id="2546" class="graf graf--p graf-after--p">Sim, Ã© isso mesmo. A classe Lifecycle possui um mÃ©todo para sabermos em que estado estamos. Este mÃ©todo chama-se <a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html#getCurrentState%28%29" data-href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html#getCurrentState()" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">getCurrentState()</em></a>.</p><p name="7335" id="7335" class="graf graf--p graf-after--p">AlÃ©m deste mÃ©todo, esta classe possui tambÃ©m mais 2 mÃ©todos:</p><ul class="postList"><li name="5a26" id="5a26" class="graf graf--li graf-after--p"><a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html#addObserver%28android.arch.lifecycle.LifecycleObserver%29" data-href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html#addObserver(android.arch.lifecycle.LifecycleObserver)" class="markup--anchor markup--li-anchor" rel="noopener nofollow noopener" target="_blank">addObserver()</a>â€Šâ€”â€ŠEste mÃ©todo serve para adicionar um Observer que Ã© notificado sempre que ocorrem alteraÃ§Ãµes no ciclo de vida do nosso LifecycleOwner.</li><li name="031f" id="031f" class="graf graf--li graf-after--li"><a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html#removeObserver%28android.arch.lifecycle.LifecycleObserver%29" data-href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html#removeObserver(android.arch.lifecycle.LifecycleObserver)" class="markup--anchor markup--li-anchor" rel="nofollow noopener noopener" target="_blank">removeObserver()</a>â€Šâ€”â€ŠEste mÃ©todo serve para remover o Observer que estÃ¡ no nosso LifecycleOwner. Ã‰ boa prÃ¡tica chamar este mÃ©todo no evento <strong class="markup--strong markup--li-strong">ON_DESTROY</strong> do nosso Observer, ao invÃ©s de chamÃ¡-lo no <em class="markup--em markup--li-em">onStop()</em> do LifecycleOwner, pois assim o nosso LifecycleOwner terÃ¡ apenas o <em class="markup--em markup--li-em">OnCreate()</em> e nada mais.</li></ul><h4 name="9d3c" id="9d3c" class="graf graf--h4 graf-after--li">EntÃ£o como utilizar estaÂ classe?</h4><p name="e32c" id="e32c" class="graf graf--p graf-after--h4">Para implementar a Lifecycle na nossa app, precisamos de conhecer mais um conceito:â€Šâ€”<a href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" data-href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">â€ŠLifecycleOwnerâ€Š</a>â€”â€Šque Ã© o tema do prÃ³ximo artigo. EntÃ£o Ã© nesse artigo onde, depois de conhecer o LifecycleOwner, vamos finalmente Ã  parte prÃ¡tica e usamos os Architecture Components.</p><div name="7b8a" id="7b8a" class="graf graf--mixtapeEmbed graf-after--p graf--trailing"><a href="https://medium.com/android-dev-moz/aac3-1df6cd39b4e0" data-href="https://medium.com/android-dev-moz/aac3-1df6cd39b4e0" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://medium.com/android-dev-moz/aac3-1df6cd39b4e0"><strong class="markup--strong markup--mixtapeEmbed-strong">Android Architecture Componentsâ€Šâ€”â€ŠLifecycleOwner</strong><br><em class="markup--em markup--mixtapeEmbed-em">ConheÃ§a o â€œLifecycleOwnerâ€ da biblioteca Android Architecture Components apresentada no Google I/O 2017</em>medium.com</a><a href="https://medium.com/android-dev-moz/aac3-1df6cd39b4e0" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="0d7b71755c1d91ddc627097ce8cb1130" data-thumbnail-img-id="1*E3d5lobptX6fnhISxmUP4Q.png" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/1*E3d5lobptX6fnhISxmUP4Q.png);"></a></div></div></div></section><section name="e74b" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="65c6" id="65c6" class="graf graf--p graf--leading graf--trailing">Se vocÃª tem alguma dÃºvida ou sugestÃ£o, nÃ£o hesite em me contactar pelo email <a href="mailto:rosariofernandes51@gmail.com" data-href="mailto:rosariofernandes51@gmail.com" class="markup--anchor markup--p-anchor" target="_blank">rosariofernandes51@gmail.com</a> ou pelo <a href="https://telegram.me/rosariopfernandes" data-href="https://telegram.me/rosariopfernandes" class="markup--anchor markup--p-anchor" rel="nofollow noopener nofollow noopener nofollow noopener noopener noopener" target="_blank">Telegram</a>. Ficarei feliz por conversar com vocÃª. ğŸ™‚</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@thatfire.dev" class="p-author h-card">RosÃ¡rio Pereira Fernandes</a> on <a href="https://medium.com/p/a7c59e1a3cf7"><time class="dt-published" datetime="2017-06-20T17:01:01.146Z">June 20, 2017</time></a>.</p><p><a href="https://medium.com/@thatfire.dev/aac2-a7c59e1a3cf7" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 24, 2025.</p></footer></article></body></html>