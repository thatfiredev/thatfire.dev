---
title: 'Java 8 + Android: Expressões Lambda e Referências de Métodos'
description: ''
pubDate: '2016-08-28T10:51:11.975Z'
heroImage: 'https://cdn-images-1.medium.com/max/800/1*87mOAhfKWCwdVddSXun4tA.png'
---

* * *

### Java 8 + Android: Expressões Lambda e Referências de Métodos

Junto com o Android N Developer Preview, o Android SDK trouxe algumas novidades na sua forma de compilar código. Agora, você pode o usar no novo [**_Jack Compiler_**](https://source.android.com/source/jack.html?hl=pt-br). Com o Jack, é possível utilizar algumas das novas funcionalidade do Java 8: Lambda Expressions, Method References, Default and static references, Repeatable Annotations e Stream APIs.

Neste artigo, vamos olhar às funcionalidades que são compatíveis apartir da API9: Lambda Expressions e Method References. As outras funcionalidades só estão disponíveis apartir da API24.

#### Como usar o Jack Compiler

Para usar o Jack Compiler, você precisa de estar a usar o [**Android Studio 2.1 (ou superior)**](https://developer.android.com/studio/index.html) e ter o Android Nougat 7.0 SDK.

No seu ficheiro _build.gradle_, coloque as seguintes linhas:

```groovy
android {
  ...
  defaultConfig {
    ...
    jackOptions {
      enabled true
    }
  }
  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }
}
```

> **Actualização 25.10.2017:**

> A partir do Android Studio 3.0, o compilador jack foi deprecado. Agora só precisamos de colocar as compileOptions, desde que estejamos a utilizar o Gradle 3.0.0 ou superior.

E pronto. Você já pode usar as funcionalidades do Java 8. Vamos algumas delas em detalhes:

#### [Lambda Expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)

Lambda Expressions são uma forma simples de usar interfaces que contêm apenas 1 método. Com Lambda Expressions, podemos alterar o nosso clássico onClickListener:

```java
btnEntrar.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View view) {
        fazerAlgo();
    }
});
```

para algo como:

```java
btnEntrar.setOnClickListener(view -> {
        fazerAlgo();
});
```

Note que o tipo de dado do parametro é opcional. Aqui estamos a utilizar chavetas, mas se o método só tiver uma expressão, podemos retirá-las:

```java
btnEntrar.setOnClickListener(view -> fazerAlgo());
```

Muito cool, right?

#### [Method References](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)

Method References são “primas” das lambda expressions. Ajudam a diminuir o código na hora de chamar métodos. Assim, o nosso onClickListener pode ficar ainda menor:

```java
btnEntrar.setOnClickListener(this::fazerAlgo);
```

Existem 3 formas de utilizar as referências de métodos:

```java
NomeDaClasse::nomeDoMetodoEstatico //para chamar um método estático

nomeDoObjecto::nomeDoMetodo//para chamar o método de um objecto instanciado

NomeDaClasse::new //para chamar o construtor dessa classe
```
